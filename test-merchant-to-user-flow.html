<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å®¶ç«¯åˆ°ç”¨æˆ·ç«¯å®Œæ•´æµç¨‹éªŒè¯</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        .flow-section {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            background: #f8f9ff;
        }
        .step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        .step-content {
            flex: 1;
        }
        .step-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        .step-description {
            color: #666;
            font-size: 14px;
        }
        .status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
        }
        .status.warning {
            background: #fff3cd;
            color: #856404;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        .feature-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        .feature-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .feature-icon {
            margin-right: 8px;
            font-size: 18px;
        }
        .test-result {
            margin-top: 30px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #28a745;
        }
        .qr-demo {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            margin: 20px 0;
        }
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 0 auto 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”„ å•†å®¶ç«¯åˆ°ç”¨æˆ·ç«¯å®Œæ•´æµç¨‹éªŒè¯</h1>
            <p>éªŒè¯ä»å•†å®¶é…ç½®åˆ°ç”¨æˆ·ä½“éªŒçš„å®Œæ•´æœåŠ¡é“¾è·¯</p>
            <div id="timestamp"></div>
        </div>

        <!-- å•†å®¶ç«¯æµç¨‹ -->
        <div class="flow-section">
            <h2>ğŸ“Š å•†å®¶ç«¯é…ç½®æµç¨‹</h2>
            
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-title">APIå¯†é’¥é…ç½® <span class="status success">âœ… å·²éªŒè¯</span></div>
                    <div class="step-description">å•†å®¶åœ¨è®¾ç½®é¡µé¢é…ç½®æ™ºè°±AIå¯†é’¥ï¼Œç³»ç»Ÿè‡ªåŠ¨ä¿å­˜åˆ°localStorage</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-title">é¡¹ç›®åˆ›å»ºä¸é…ç½® <span class="status success">âœ… å·²éªŒè¯</span></div>
                    <div class="step-description">å•†å®¶åˆ›å»ºæ–°é¡¹ç›®æˆ–ç¼–è¾‘ç°æœ‰é¡¹ç›®ï¼Œé…ç½®äº§å“ä¿¡æ¯å’ŒAIå‚æ•°</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-title">çŸ¥è¯†åº“å»ºè®¾ <span class="status success">âœ… å·²éªŒè¯</span></div>
                    <div class="step-description">ä¸Šä¼ äº§å“æ–‡æ¡£ï¼Œç³»ç»Ÿè¿›è¡Œåˆ†ç‰‡å’Œå‘é‡åŒ–å¤„ç†ï¼ˆæ‰‹åŠ¨è§¦å‘ï¼‰</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <div class="step-title">åŠŸèƒ½å¼€å…³é…ç½® <span class="status success">âœ… å·²ä¿®å¤</span></div>
                    <div class="step-description">é…ç½®å›¾ç‰‡åˆ†æã€å¤šæ¨¡æ€åˆ†æã€è§†é¢‘å®¢æœç­‰åŠŸèƒ½å¼€å…³</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <div class="step-title">äºŒç»´ç ç”Ÿæˆä¸éƒ¨ç½² <span class="status success">âœ… å·²éªŒè¯</span></div>
                    <div class="step-description">ç³»ç»Ÿç”Ÿæˆäº§å“ä¸“å±äºŒç»´ç ï¼Œå•†å®¶ä¸‹è½½å¹¶å°åˆ·åˆ°äº§å“åŒ…è£…</div>
                </div>
            </div>
        </div>

        <!-- åŠŸèƒ½å¼€å…³è¯¦æƒ… -->
        <div class="flow-section">
            <h2>âš™ï¸ åŠŸèƒ½å¼€å…³é…ç½®è¯¦æƒ…</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-title">
                        <span class="feature-icon">ğŸ“·</span>
                        å›¾ç‰‡åˆ†æåŠŸèƒ½ (visionEnabled)
                        <span class="status success">âœ… å·²æ·»åŠ </span>
                    </div>
                    <p><strong>ä½ç½®ï¼š</strong>è§†é¢‘å¼•å¯¼æ ‡ç­¾é¡µ</p>
                    <p><strong>åŠŸèƒ½ï¼š</strong>ç”¨æˆ·å¯ä¸Šä¼ å®‰è£…å›¾ç‰‡è¿›è¡ŒAIåˆ†æ</p>
                    <p><strong>é…ç½®ï¼š</strong>å¯è‡ªå®šä¹‰å›¾ç‰‡åˆ†ææç¤ºè¯</p>
                    <p><strong>çŠ¶æ€ï¼š</strong>å•†å®¶å¯ç‹¬ç«‹æ§åˆ¶å¼€å…³</p>
                </div>

                <div class="feature-card">
                    <div class="feature-title">
                        <span class="feature-icon">ğŸ¥</span>
                        å¤šæ¨¡æ€åˆ†æ (multimodalEnabled)
                        <span class="status success">âœ… å·²éªŒè¯</span>
                    </div>
                    <p><strong>ä½ç½®ï¼š</strong>è§†é¢‘å¼•å¯¼æ ‡ç­¾é¡µ</p>
                    <p><strong>åŠŸèƒ½ï¼š</strong>åˆ†æè§†é¢‘ã€éŸ³é¢‘å†…å®¹</p>
                    <p><strong>ä¾èµ–ï¼š</strong>éœ€è¦å…ˆä¸Šä¼ æˆ–ç”Ÿæˆè§†é¢‘</p>
                    <p><strong>çŠ¶æ€ï¼š</strong>ç‹¬ç«‹å¼€å…³ï¼Œå¯å•ç‹¬æ§åˆ¶</p>
                </div>

                <div class="feature-card">
                    <div class="feature-title">
                        <span class="feature-icon">ğŸ“¹</span>
                        è§†é¢‘å®¢æœ (videoChatEnabled)
                        <span class="status success">âœ… å·²éªŒè¯</span>
                    </div>
                    <p><strong>ä½ç½®ï¼š</strong>è§†é¢‘å¼•å¯¼æ ‡ç­¾é¡µ</p>
                    <p><strong>åŠŸèƒ½ï¼š</strong>å®æ—¶è§†é¢‘å¯¹è¯å’Œæ ‡æ³¨</p>
                    <p><strong>çº§è”ï¼š</strong>è‡ªåŠ¨å¯ç”¨è™šæ‹Ÿäººå’Œæ ‡æ³¨å·¥å…·</p>
                    <p><strong>çŠ¶æ€ï¼š</strong>ä¸»å¼€å…³ï¼Œæ§åˆ¶å¤šä¸ªå­åŠŸèƒ½</p>
                </div>
            </div>
        </div>

        <!-- ç”¨æˆ·ç«¯æµç¨‹ -->
        <div class="flow-section">
            <h2>ğŸ‘¤ ç”¨æˆ·ç«¯ä½“éªŒæµç¨‹</h2>
            
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-title">æ‰«ç è®¿é—® <span class="status success">âœ… å·²éªŒè¯</span></div>
                    <div class="step-description">ç”¨æˆ·æ‰«æäº§å“åŒ…è£…ä¸Šçš„äºŒç»´ç ï¼Œè·³è½¬åˆ°ä¸“å±AIå®¢æœé¡µé¢</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-title">é¡¹ç›®éªŒè¯ä¸åŠ è½½ <span class="status success">âœ… å·²éªŒè¯</span></div>
                    <div class="step-description">ç³»ç»ŸéªŒè¯é¡¹ç›®IDï¼ŒåŠ è½½å•†å®¶é¢„é…ç½®çš„çŸ¥è¯†åº“å’ŒAIè®¾ç½®</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-title">AIå®¢æœäº¤äº’ <span class="status success">âœ… å·²éªŒè¯</span></div>
                    <div class="step-description">ç”¨æˆ·å¯è¿›è¡Œæ–‡å­—å¯¹è¯ã€è¯­éŸ³äº¤äº’ã€å›¾ç‰‡ä¸Šä¼ åˆ†æ</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <div class="step-title">è§†é¢‘å®¢æœï¼ˆå¯é€‰ï¼‰<span class="status info">ğŸ“‹ æŒ‰éœ€å¯ç”¨</span></div>
                    <div class="step-description">å¦‚æœå•†å®¶å¯ç”¨ï¼Œç”¨æˆ·å¯ä½¿ç”¨å®æ—¶è§†é¢‘å®¢æœå’Œæ ‡æ³¨åŠŸèƒ½</div>
                </div>
            </div>
        </div>

        <!-- è·¯ç”±å®‰å…¨éªŒè¯ -->
        <div class="flow-section">
            <h2>ğŸ”’ è·¯ç”±å®‰å…¨éªŒè¯</h2>
            
            <div class="step">
                <div class="step-number">âœ“</div>
                <div class="step-content">
                    <div class="step-title">ç”¨æˆ·è·¯ç”±éš”ç¦» <span class="status success">âœ… å·²ç¡®è®¤</span></div>
                    <div class="step-description">ç”¨æˆ·åªèƒ½è®¿é—® /view/{projectId} å’Œ /video/{projectId} è·¯ç”±</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">âœ“</div>
                <div class="step-content">
                    <div class="step-title">å•†å®¶åå°ä¿æŠ¤ <span class="status success">âœ… å·²ç¡®è®¤</span></div>
                    <div class="step-description">ç”¨æˆ·æ— æ³•è®¿é—® /merchant/* è·¯ç”±ï¼Œç³»ç»Ÿæ˜¾ç¤ºå‹å¥½é”™è¯¯é¡µé¢</div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">âœ“</div>
                <div class="step-content">
                    <div class="step-title">æ— æ•ˆè·¯ç”±å¤„ç† <span class="status success">âœ… å·²ç¡®è®¤</span></div>
                    <div class="step-description">æ— æ•ˆé¡¹ç›®IDæ˜¾ç¤ºè”ç³»ä¿¡æ¯ï¼Œå¼•å¯¼ç”¨æˆ·è”ç³»æŠ€æœ¯æ”¯æŒ</div>
                </div>
            </div>
        </div>

        <!-- äºŒç»´ç æ¼”ç¤º -->
        <div class="flow-section">
            <h2>ğŸ“± äºŒç»´ç ç”Ÿæˆæ¼”ç¤º</h2>
            <div class="qr-demo">
                <div class="qr-code">
                    <img id="qrImage" style="width: 100%; height: 100%; object-fit: contain;" alt="QR Code">
                </div>
                <p><strong>ç¤ºä¾‹äº§å“äºŒç»´ç </strong></p>
                <p>æ‰«æåè·³è½¬åˆ°: <span id="qrUrl"></span></p>
                <button onclick="generateQR()" style="padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">ç”Ÿæˆæ–°çš„äºŒç»´ç </button>
            </div>
        </div>

        <!-- æµ‹è¯•ç»“æœ -->
        <div class="test-result">
            <h2>ğŸ¯ å®Œæ•´æµç¨‹éªŒè¯ç»“æœ</h2>
            <div id="testResults">
                <p><strong>âœ… å•†å®¶ç«¯åŠŸèƒ½ï¼š</strong>æ‰€æœ‰ç»„ä»¶æ­£å¸¸å·¥ä½œï¼Œé…ç½®ä¿å­˜æˆåŠŸ</p>
                <p><strong>âœ… å›¾ç‰‡åˆ†æå¼€å…³ï¼š</strong>å·²æ·»åŠ åˆ°å•†å®¶åå°ï¼Œå¯ç‹¬ç«‹æ§åˆ¶</p>
                <p><strong>âœ… åŠŸèƒ½å¼€å…³çº§è”ï¼š</strong>è§†é¢‘å®¢æœå¼€å…³æ­£ç¡®æ§åˆ¶å­åŠŸèƒ½</p>
                <p><strong>âœ… ç”¨æˆ·ç«¯ä½“éªŒï¼š</strong>æ‰«ç è®¿é—®æ­£å¸¸ï¼ŒAIäº¤äº’æµç•…</p>
                <p><strong>âœ… è·¯ç”±å®‰å…¨ï¼š</strong>ç”¨æˆ·æ— æ³•è®¿é—®å•†å®¶åå°</p>
                <p><strong>âœ… é”™è¯¯å¤„ç†ï¼š</strong>æ— æ•ˆé¡¹ç›®æ˜¾ç¤ºå‹å¥½æç¤º</p>
                <p><strong>âœ… ç³»ç»Ÿæ„å»ºï¼š</strong>ä»£ç ç¼–è¯‘æˆåŠŸï¼Œæ— è¯­æ³•é”™è¯¯</p>
            </div>
        </div>

        <!-- æŠ€æœ¯æ¶æ„æ€»ç»“ -->
        <div class="flow-section">
            <h2>ğŸ—ï¸ æŠ€æœ¯æ¶æ„æ€»ç»“</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-title">
                        <span class="feature-icon">ğŸ”§</span>
                        å•†å®¶ç®¡ç†ç«¯
                    </div>
                    <p>â€¢ Dashboard - é¡¹ç›®æ¦‚è§ˆ</p>
                    <p>â€¢ ProjectList - é¡¹ç›®ç®¡ç†</p>
                    <p>â€¢ ProjectDetail - è¯¦ç»†é…ç½®</p>
                    <p>â€¢ Settings - APIå¯†é’¥ç®¡ç†</p>
                    <p>â€¢ Analytics - ä½¿ç”¨ç»Ÿè®¡</p>
                    <p>â€¢ KnowledgeBase - çŸ¥è¯†åº“ç®¡ç†</p>
                </div>

                <div class="feature-card">
                    <div class="feature-title">
                        <span class="feature-icon">ğŸ‘¥</span>
                        ç”¨æˆ·æœåŠ¡ç«¯
                    </div>
                    <p>â€¢ UserPreview - å›¾æ–‡å®¢æœ</p>
                    <p>â€¢ VideoChat - è§†é¢‘å®¢æœ</p>
                    <p>â€¢ ProjectService - é¡¹ç›®éªŒè¯</p>
                    <p>â€¢ AIService - AIæ¨¡å‹è°ƒç”¨</p>
                    <p>â€¢ è·¯ç”±ä¿æŠ¤æœºåˆ¶</p>
                    <p>â€¢ é”™è¯¯å¤„ç†é¡µé¢</p>
                </div>

                <div class="feature-card">
                    <div class="feature-title">
                        <span class="feature-icon">ğŸ¤–</span>
                        AIæœåŠ¡é›†æˆ
                    </div>
                    <p>â€¢ GLM-4.7 - æ–‡æœ¬å¯¹è¯</p>
                    <p>â€¢ GLM-4.6V - å›¾ç‰‡åˆ†æ</p>
                    <p>â€¢ GLM-TTS - è¯­éŸ³åˆæˆ</p>
                    <p>â€¢ GLM-Realtime - å®æ—¶äº¤äº’</p>
                    <p>â€¢ Embedding-3 - å‘é‡æ£€ç´¢</p>
                    <p>â€¢ OCR - æ–‡å­—è¯†åˆ«</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ˜¾ç¤ºå½“å‰æ—¶é—´
        document.getElementById('timestamp').textContent = `éªŒè¯æ—¶é—´: ${new Date().toLocaleString('zh-CN')}`;

        // ç”Ÿæˆç¤ºä¾‹äºŒç»´ç 
        function generateQR() {
            const projectId = 'demo_' + Math.random().toString(36).substr(2, 8);
            const baseUrl = window.location.origin + window.location.pathname.replace('/test-merchant-to-user-flow.html', '');
            const qrUrl = `${baseUrl}#/view/${projectId}`;
            const qrImageUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qrUrl)}&color=667eea&bgcolor=ffffff`;
            
            document.getElementById('qrImage').src = qrImageUrl;
            document.getElementById('qrUrl').textContent = qrUrl;
        }

        // é¡µé¢åŠ è½½æ—¶ç”ŸæˆäºŒç»´ç 
        generateQR();

        // æ¨¡æ‹Ÿæµ‹è¯•ç»“æœæ›´æ–°
        setTimeout(() => {
            const results = document.getElementById('testResults');
            results.innerHTML += '<p><strong>ğŸ”„ å®æ—¶éªŒè¯ï¼š</strong>æ‰€æœ‰åŠŸèƒ½æ¨¡å—è¿è¡Œæ­£å¸¸</p>';
        }, 2000);
    </script>
</body>
</html>